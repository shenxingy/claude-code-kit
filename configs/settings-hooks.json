{
  "_comment": "Hooks section to merge into ~/.claude/settings.json — reference copy",
  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/session-context.sh",
            "timeout": 10,
            "statusMessage": "Loading project context..."
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/post-edit-check.sh",
            "async": true,
            "timeout": 180,
            "statusMessage": "Running checks..."
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Review the conversation transcript below. Determine if the assistant completed ALL tasks the user explicitly requested. Check: 1) Every explicit request was addressed 2) No partial implementations left unfinished 3) No obvious errors introduced. If EVERYTHING is complete, respond {\"ok\": true}. If something is clearly incomplete or broken, respond {\"ok\": false, \"reason\": \"brief description of what's missing\"}. Be lenient — only block if something is clearly unfinished. IMPORTANT: If you return ok=false, the assistant will attempt to fix the issue. If automated fixes are not possible (e.g. missing CLI tools, interactive prompts required, manual steps needed), the assistant MUST clearly tell the user what manual action is required and stop attempting — do not loop. Context: $ARGUMENTS",
            "timeout": 15
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "permission_prompt|idle_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/notify-telegram.sh",
            "async": true,
            "timeout": 10
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/verify-task-completed.sh",
            "timeout": 180,
            "statusMessage": "Verifying task completion..."
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/correction-detector.sh",
            "timeout": 5,
            "statusMessage": ""
          }
        ]
      }
    ]
  }
}

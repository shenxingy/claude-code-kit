{
  "_comment": "Hooks section to merge into ~/.claude/settings.json — reference copy",
  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/session-context.sh",
            "timeout": 10,
            "statusMessage": "Loading project context..."
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/post-edit-check.sh",
            "async": true,
            "timeout": 180,
            "statusMessage": "Running checks..."
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "RESPOND WITH ONLY VALID JSON — no preamble, no explanation, no markdown. Your entire response must be exactly one of: {\"ok\": true} or {\"ok\": false, \"reason\": \"brief reason\"}. Any other output will cause a JSON parse error.\n\nReview the conversation transcript. Determine if the assistant completed ALL tasks the user explicitly requested. Check: 1) Every explicit request was addressed 2) No partial implementations left unfinished 3) No obvious errors introduced. Be lenient — only return ok=false if something is clearly unfinished AND automatable by the assistant. If the remaining work requires manual steps (missing CLI tools, interactive prompts, browser actions), return ok=true — the assistant should have already told the user. Context: $ARGUMENTS",
            "timeout": 30
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "permission_prompt|idle_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/notify-telegram.sh",
            "async": true,
            "timeout": 10
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/verify-task-completed.sh",
            "timeout": 180,
            "statusMessage": "Verifying task completion..."
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/correction-detector.sh",
            "timeout": 5,
            "statusMessage": ""
          }
        ]
      }
    ]
  }
}
